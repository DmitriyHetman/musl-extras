diff -Naurw android-tools.orig/extras/ext4_utils/sha1.c android-tools/extras/ext4_utils/sha1.c
--- android-tools.orig/extras/ext4_utils/sha1.c	2013-02-18 06:49:03.000000000 +0800
+++ android-tools/extras/ext4_utils/sha1.c	2015-08-14 22:00:34.776686296 +0700
@@ -17,9 +17,6 @@
 
 #define SHA1HANDSOFF		/* Copies data before messing with it. */
 
-#ifndef USE_MINGW
-#include <sys/cdefs.h>
-#endif
 #include <sys/types.h>
 #include <assert.h>
 #include <string.h>
diff -Naurw android-tools.orig/extras/ext4_utils/sha1.h android-tools/extras/ext4_utils/sha1.h
--- android-tools.orig/extras/ext4_utils/sha1.h	2013-02-18 06:49:03.000000000 +0800
+++ android-tools/extras/ext4_utils/sha1.h	2015-08-14 22:05:03.063360957 +0700
@@ -17,12 +17,10 @@
 typedef unsigned int uint32_t;
 typedef unsigned int u_int32_t;
 typedef unsigned int u_int;
+#endif
 
 #define __BEGIN_DECLS
 #define __END_DECLS
-#else
-#include <sys/cdefs.h>
-#endif
 
 #define SHA1_DIGEST_LENGTH		20
 #define SHA1_DIGEST_STRING_LENGTH	41
