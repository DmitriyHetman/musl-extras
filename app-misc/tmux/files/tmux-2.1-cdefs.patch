diff -Naurw tmux-2.1.orig/compat/vis.h tmux-2.1/compat/vis.h
--- tmux-2.1.orig/compat/vis.h	2015-09-27 02:42:08.000000000 -0700
+++ tmux-2.1/compat/vis.h	2015-11-09 12:07:28.714227333 -0800
@@ -73,9 +73,10 @@
  */
 #define	UNVIS_END	1	/* no more characters */
 
-#include <sys/cdefs.h>
+#ifdef __cplusplus
+extern "C" {
+#endif
 
-__BEGIN_DECLS
 char	*vis(char *, int, int, int);
 int	strvis(char *, const char *, int);
 int	stravis(char **, const char *, int);
@@ -85,6 +86,8 @@
 int	unvis(char *, char, int *, int);
 ssize_t strnunvis(char *, const char *, size_t);
 
-__END_DECLS
+#ifdef __cplusplus
+}
+#endif
 
 #endif /* !_VIS_H_ */
